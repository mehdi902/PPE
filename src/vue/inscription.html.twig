{% extends "base.html.twig" %}
{% block style %}<link href="css/style-signin.css" rel="stylesheet"> {% endblock %}
{% block title %} {{ parent() }} S'inscrire {% endblock %}       
{% block contenu %}

    {% if form.valide is defined %}
        {% if form.valide == true %}
            <div class="card mx-auto" style="width: 100%; height:100%; margin-top: 0%">
                
                <div class="card-header">
                    <div class="alert alert-warning alert-dismissible fade show mx-auto mx-lg-auto mx-md-auto" style="" role="alert">
                      <strong>Veuillez verifier votre email pour finaliser votre inscription</strong> 
                      <button type="button" class="close" data-dismiss="alert" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                      </button>
                    </div>   
                </div>
            
            
            
            
                <div class="card-body">
                    <h1 class="h3 mb-3 font-weight-normal">Inscription réussie</h1>
                    <h1 class="h3 mb-3 font-weight-normal">Voici votre identifiant : {{form.email}}</h1>
                    {% if form.role == 1 %}
                        <h1 class="h3 mb-3 font-weight-normal">Vous êtes administrateur du site</h1>
                    {% else %}
                        <h1 class="h3 mb-3 font-weight-normal">Vous êtes un client du site </h1>
                    {% endif %}
                {% else %}        
                    <h1 class="h3 mb-3 font-weight-normal">Echec de l'inscription</h1>
                    <h1 class="h3 mb-3 font-weight-normal">Erreur : {{form.message}}</h1>
                    <h1 class="h3 mb-3 font-weight-normal"><a href="index.php?page=inscrire">Retourner sur la page d'inscription</a></h1>
                {% endif %}
        </div>
        </div>

        
            <div class="card mx-auto" style="max-height: 50%; max-width: 80%; margin-top: 15%">
                <div class="progress">
                    <div class="progress-bar progress-bar-striped bg-success" role="progressbar" style="width: 50%"  aria-valuenow="50" aria-valuemin="0" aria-valuemax="100"></div>
                </div>
            </div>
        
        
    {% else %}
        

        <div class="card mx-auto" style="width: 80%; height:100%; margin-top: 2%; margin-bottom: 3%">

            <div class="card-header ">
                <h2 class="mx-auto" style="width: 100%">Inscription</h2>



            </div>
            <form class="form-signin " action="index.php?page=inscription" method="post" >
                <div class="card-body mx-auto" style="width: 70%; height: 70%">

                           
                     <label for="inputEmail" class="sr-only mx-auto" style="width: 20%;" >Email:</label>
                     <input type="email" id="inputEmail" name="inputEmail" class="form-control mx-auto" style="width: 90%; height: 50%; margin-bottom: 1%" placeholder="Email" required autofocus>
                     <label for="inputPassword" class="sr-only mx-auto">Mot de passe:</label>      
                     <input type="password" id="inputPassword" name="inputPassword" class="form-control mx-auto" style="width: 90%; height: 50%; margin-bottom: 1%" placeholder="Mot de passe" required>
                     <label for="inputPassword2" class="sr-only mx-auto">Mot de passe:</label>  
                     <input type="password" id="inputPassword2" name="inputPassword2" class="form-control mx-auto" style="width: 90%; height: 50%; margin-bottom: 1%" placeholder="confirmation mot de passe" required>
                     <label for="inputNom" class="sr-only mx-auto">Nom:</label>  
                     <input type="text" id="nom" name="nom" class="form-control mx-auto" style="width: 90%; height: 50%; margin-bottom: 1%" placeholder="Nom" required>
                     <label for="inputPrenom" class="sr-only mx-auto">Prenom:</label>
                     <input type="text" id="prenom" name="prenom" class="form-control mx-auto" style="width: 90%; height: 50%; margin-bottom: 1%" placeholder="Prenom" required>
                     <select class="custom-select" name="role" id="role"><option value="1">Administrateur</option><option value="2">Utilisateur</option></select>    


                </div>
                <div class="card-footer" style="width: 100%; height: 100%">
                    <h2 class="mx-auto" style="width: 50%"><button class="btn btn-lg btn-success mx-auto" style="width: 100%" type="submit" id="btInscrire" name="btInscrire">S'inscrire</button> </h2>
                </div>
            </form>


        </div>        

        <div class="progress card mx-auto" style="max-height: 50%;max-width: 80%">
            <div class="card-body" style="margin-left: 5%; margin-right: 5%; width: 80%; height: 20%">
            <div class="progress-bar progress-bar-striped bg-success" role="progressbar" style="width: 10%;height: 50%; margin-top: 3%" aria-valuenow="0" aria-valuemin="0" aria-valuemax="100"></div>
            </div>
        </div>
{% endif %}
{% endblock %} 